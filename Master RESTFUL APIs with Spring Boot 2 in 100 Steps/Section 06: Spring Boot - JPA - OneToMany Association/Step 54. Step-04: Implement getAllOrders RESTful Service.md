### Step 54. Step-04: Implement getAllOrders RESTful Service.md
Welcome back. In this lecture, we're going to implement that dollar, get all this matter in our arms control. OK, so let's go ahead and see the series of steps we are going to perform further. OK, so if you see here, we are going to implement the telemedicine. That's the other controller. So before going to other controller, we're going to make slight changes in our control and therefore user controller. So the controller currently for each of the methods, we can see that we have the. Youssef says a permit for every method at the third level, so we are going to move this user said the class level using annotation, request mapping and then other things inside. OK, insert method level. So when we are doing this, this will help us in creating self things in our section, which we are going to implement in our next section. OK, so that helps the hapless implementation. OK, so that's the reason we never use this context to the request mapping at class level. And the remaining things will be that the method level. Let's first implement this and then move on to the next section. OK, so let's go back to that idea. You know, and if you see here. So let me open the country, let's package and I have that user control over here. So if I say here, what I'm going to say here is a direct request for mapping and then zip code slash use. OK, so it's amount got to import request mapping a package and then say, OK, so now I remove a bitmap and get all user interfaces. The data should be displayed here at method level. I don't need anything. OK, so I'll receive it. OK, so in the same way for post mapping also I don't need anything near the method level and certainly most large users here. OK, in the same way that users by Iot. So we have a very different user context at the mass level. I just remotes, not users for a bit. We were sort of saying we have defined it. Nice living here. OK, and we'll have an idea here. OK, the same for delete users. So I'll do the same and for getting user by user name. Also, I must ask users, OK, so this completes our first step of updating our user controller with the user's context at the last level, which is going to help in our hater's implementations. OK, so now let's go back to the steps here and discuss these steps and go ahead and then implement it. OK, so in the control, we're going to with the controller and then annotated with rest controller and also annotated with request mapping with slash users. And then we're going to define this method so that this method is nothing. But we get all those for a particular user so I can see slash users and then send the user ID and then best context. And what happens is all the orders associated with this respect user should be displayed so that the users method and then we're going to use this method directly with users and then one zero one slash orders. And also we're going to test what we tested in our previous step. But all users can get used by it and then verify the Arbour's presented those things one more time. OK, so that's all. So let's go ahead and then implement it. One more important thing here is we are not going to define a service layer and then add service layer methods and all those things from here on. OK, so as a standalone, we are going to have shown those things in Nevada G.P.S. We're deeply into the position where we have created the user service and then user controller and all those things. OK, but if you start with every in every one of these steps, OK, so I'll leave you with a standard that we need to define a service and then those methods need to be user in the controller. And any business logic is that we need to define in the service layer. So we've already discussed those things earlier. So not just to ensure better for the. Timesaving purpose and also for implementing little. For the easiest manner, which means like if you define multiple methods in service layer and then again call them in control and there it is, going to take more time and been more or less akin to duplication of methods. Let me bring in a standard mode that is good, the way to do that. But no, we're going to just add the controller. We're going to create the methods directly under other control using the user depositary. OK, so let's go ahead and do that now. So it isn't I mean, the controllers package, I'm going to create a class named. Other controller. So I'll make this bigger and then I'll say I'll take this with the controller and then come on shift. Oh, OK. And I'll also say one more thing here, that they did request mapping. And then I will say slash value is a call to slash users. OK, come on. Oh, OK, good. So now I'm going to of two things here. One is primarily I need to use a repository. OK, so I'll see a private user. Repository user. Repository Glenmorangie of total import, and then I'll see the word. Or to word. OK, so we got the operate annotation imported, so it took a little bit of time to resolve. So now we are going to create a method named get all orders for the user. Right. So I'll say. Public, it's a list of orders we are going to read and write, so I say get all orders. And what I'm going to take as the input is long and then use already, right? And Chief, go to the harder. List and also as a battery, but also important, good. So first thing is do whatever the past you need to check if it exists or not. Right. So I'll see you. User user is call to user repository not find by. Heidi. And then I'll see you Saturday, right, and. It will put you, sir, right now, in addition to that, it also just 30 changed type of user to optional, right? So I'll say this as user optional. Right. So now one important thing here is. So if you sat optional, that is present, right? So if you use that option, a lot is present, not off, which means if you use that option, a lot is presentments. If you. That is not present. OK, then I am going to turn you OK. I can see your response to it as exceptional through user, not from exception with some string here. OK, so I can say user not fun. Right. And it also says that OK, protocols are not for an exception and also Atrous declaration. OK, so that's good. So if a user is not present then you user not from the corruption. OK, but if a user is present, what we need to do is we need to. Written. He was an optional. That. What's happening? So we are. Here, right here. I've done a small mistake. OK, so little use of small dots get off, I get hardass. OK, so this completes I get all orders for you said method creation. OK, so now what we are going to do is we need to add we could get mapping seeing so we need to send after users slash. You said Heidi has the best variable rate and Pardus. And I'm on shift to. For kidnapping and kidnapping. See, so this completes the battle that's very user savvy, so let's go ahead and test it. So just to reiterate what we have done. We have important values that we are the controller and then are provided and we have created a better on this matter. And we are taking the input, as you said, 80. It is nothing but from the part variable, we are taking that use a ready and then we are going to find that user, whether it exists or not was a the repository, not fine by it. And we are saying that if the user is present, OK, then go ahead and then return to the hospital users orders. But if that user is not there, not have that, then through the user, not one exception saying user, not phone. That's all. OK, that's all we are going to do. So let's go back to our postman and then. Yeah, let's go ahead and then create a request. OK, so I get all of this for a particular user, right. So that all of this OK, and then I'll say it is a tall order. OK, so I'll say localhost and for you that's one zero one. I need to get the orders, whatever is present. OK, so I'll see you then. Send. So if you see it for use ups one zero one we got the order says 2001, 2002, 2003 in the same way for one zero two we might get broader circle four and then five and four one zero three. We will get only one order, whatever is present. OK, so let's go back to what has to console. You can see the output associated with one zero one one zero zero one. So we've got the same here, OK. So if you see here for one zero one, you said we got three orders. So this is a above that on this. Service. OK, so in the same way, will implement, create order and then get all orders by all the radio also in upcoming lectures Thank you. 
