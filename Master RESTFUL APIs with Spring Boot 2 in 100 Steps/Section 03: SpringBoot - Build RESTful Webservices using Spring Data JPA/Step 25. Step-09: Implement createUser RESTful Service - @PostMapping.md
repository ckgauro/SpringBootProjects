### Step 25. Step-09: Implement createUser RESTful Service - @PostMapping .md
Welcome back.  In this lecture, we are going to implement the create user method so that when we submit a request  with some of the ideas and details with create user, whatever the attributes it is required, and then  when we post that data, the user gets created in the database.  OK, so let's go ahead and do that now.  So in the service layer, we are going to implement the create user method and in control earlier,  we are going to implement to create user matter and also accept the input as the input, whatever we  are sending via post right from this client.  We are going to accept it with a direct request for the annotation and then we are going to monitor  the entire create user matter with a direct post mapping annotation.  And then once this is completed, will go to our postman and then we will verify at best our create  user service.  Right.  Let's full service enforcement best client.  So we're going to create a request for clear to user and we are going to create the body and then select  the right area and then content papers, Jason, and then method as post and then test using Bowsman.  OK, so we are going to do all these things in this lecture.  So first, let's go back to our idea.  You know, so we are in our idea, you know, so we need to go to our service layer.  So nothing but user service, OK?  So what we have done for now, we have created the Gaitonde users method next year, create a user method  and create user.  What we are going to do is.  Public.  And what we are going to return for now, we are not returning any fancy messages of the status quo,  like two zero one user created or like a user with user pod, etc. So we are just going to return whatever  the user created.  The same user we are going to create as part of this base implementation.  So the return type is going to be user and then we are going method is create user.  OK, so.  And create user, we are going to say what what is the input we are going to get is the request body,  request body?  What type of input?  This is user user.  Right.  So let me.  See, controlled Comanche, left or right, and only we have need to define the return type, right,  so return yuzu repository DOT will have a method by default, which is nothing but SÃ¨vres in the NTD  user entity.  Right.  So and then we should be good.  So what happens here is from the controller it will send when we are calling this creative's, that  method, it will send the user entity, user body.  Right.  Whatever the thing which we are posting there is clean.  So the same thing, user repository, that same method will submit to the database.  OK, so that is the create user method which we have defined in the service layer.  Right.  So let's go back now to the.  Control earlier.  Right, so in the control earlier.  So what we are going to do is sort of, as we say, create a user so you can say that what we are going  to do, one is request body.  Right.  And the other is post mapping three things.  OK, so create user matter.  And we are going to introduce that a direct request by the annotation.  And we are also going to introduce the voice mapping annotation now.  OK, so first let's create the method so public and what we are going to retain is user right.  And the method name we can create user.  Right.  And now the input type is a direct request body and the user user and command shift or OK.  So now the request bodies are important.  So now what we are going to do is.  Later, we are going to call the producer method, which we have defined in our service.  So I'll say user service, dot create user right and user and.  Use said, OK, and that's all, so now we are going to create a user, the input we are going to get  in the request body in the rest services request various user type.  OK, so and then we are going to save that using the create user matter, which we have defined in our  user service.  So we have completely clear ideas that matter and a direct request for the annotation.  So next year to define our make it as a service using post mapping.  Right.  Post mapping.  And we are going to say does users Comanche both the post mapping and then save it?  OK, so this completes our creation of the use user method in both our service layer and also the controller  layer.  OK, so now we'll go back to our client Posman and then start creating the create user.  So first, what we need to do here is so we can go here and then say and request and I'll say that request  names create user and then seem to springboard building blocks.  Right.  So a springboard building blocks.  So this is a create user and it's you are at least localhost.  Users, right?  So this is the thing and the method we are going to use is post method for creating end user.  So let's save build here.  So method is pushed in that you are a little more close to 80, 80 slash users, whatever we have defined  in our post mapping.  So now the next thing is to also have the body right.  So here is the body section, OK, in the body section, we need to select the right, OK?  And we also need to select the text bypass Jason application slash Jason.  So now we need to provide our complete.  So the best thing is to copy from our gut, tell you this method and then pasted here are we need to  write the DNA data saying your name is so-and-so, and then all those things, one, so that we have  a template available so we can go to the users and then copy this and then paste it to our create user.  So that is the best option for us.  OK, Furneaux, so just to save some time, OK.  And if you see here, so this is the data, decent data which were copied here.  So one important thing here is I.T. is going to get auto generated.  So let's remove that and username.  If you see it is a unique constraint.  So if you send back in Canada, it is going to throw that error.  It's the same with the SSN also.  So I can say.  User one right.  And then also I say SSN zero zero one, something like that, OK?  Zero zero one, because the SSN is relatively constrained, if you the same thing, it is going to throw  that error.  So this is the decent data.  You are sending it to our database now.  So let's save this once and then send it now.  OK.  Click on send.  So now our I.T. one got created with the user name, this one, and then, as I understand it, we don't  have any constraints on them.  So those were accepted.  So go to get our users and click on Sayne so you can see here I one we have listed earlier, only three  records.  Now we have four records in the same way.  Let's go back to our database.  So let me close this Posman and run selected connect and then I'll see select start from user right.  And then click on Land Selected, OK.  So you see we have the one we have here.  OK, so now if we do some change and then reboot the database means like the Davian then this record  will go away.  So you can even see that way because only whatever we are doing, there are documents like whatever  the data were in setting during the run, liberals will be there whenever the changes happen.  And then when really when the candidates, whatever the new record, whatever you have put, that will  go away.  So let me show that for you, OK?  So I'll say controller controller, let's see here, just the controller and then space.  And then I just I could just see some change.  OK, and then I'll click on C.  So now let's go back to our browser and then.  Cannot and then say select start from right so and then click on one selected see, you don't have that  record, whatever you have created, because it's a memory database.  Only when the Debian looks, all the records, whatever you have created as part of your testing from  Posman or anything, all those will go.  Only the records, whatever you have put it in, data will be available.  That's one important thing.  So another thing is you can see here.  So if you see if you go to the application that properties.  Right.  So you said that spring, that GPA that you're going through, which means in the console, you should  know what is happening whenever you create a user.  Right.  So let's go back and then create the same user.  So if you see here, only three users know, right?  So if you see forgetful users, what happened?  OK, so select the user, all the details.  So and so.  So and so.  OK from user table.  Right.  So all the what we call at variables are whatever all the elements from user table.  So it has selected and then it has displayed.  So what is doing is like the API is constructing disrespectable, no query against the database and  then fighting it automatically.  So that's what is happening currently.  So in the same way.  So if you create a user, what should happen.  Right.  So again, I'm going to send this and then create created because now the databases doesn't have this  record.  OK, so now this user should be for this.  You can see here inserting user and then it has created all the small details.  OK, see here.  OK.  So inserting the user and this is the order and these are the values it has sent inside.  OK, so.  Now we have got the user got created and then we have seen it in our hibernate, how it is created.  So let's go back to Posman and what we can do here is like we will try to create the user with the same  username, that user one, and then it should run error.  OK, see, I could not agree with the statement.  The only constraint that should be displayed here and the same place.  OK, I could not agree with the statement because of this unique constraint.  You means any constraint.  OK.  So here in the same way will go back to our idea and also the same should be logged here also.  OK, so we can see it here.  Both user and then SSN has the duplicate values which is not accepted here.  Right.  So that's the thing.  So we have seen now in the sadness that we have created to create user in controller there.  We have created the create user and we have introduced that direct request for the annotation at the  request mapping annotation.  And then we have tested a sample user using create user using Posman and then tested it.  We went back to the database and then understood that in-memory database holds the data only for that  particular time.  So when the GM dealers, whatever the new data you have inserted, will go away and also how to create  a create request in Posman with Broady and then content type all those things we have learned in this  lecture.  In addition, we have also seen the unique constraint that that's what we are going to get if we try  to create the same user.  So in as we are building this project in incremental manner to handle these exceptions and then your  customers messages, all those things we can see in the later part of the lectures.  But for now we have implemented the base, creating a certain method.  So in the next lecture we will implement douget user by idee method in both service and controller layers  and then based it.   