### Step 90. Step-06: Implement & Test Content Negotiation.md
Welcome back.  In this section, we are going to understand and implement the Springboot contract negotiation, so  this is a very small section.  So they didn't like we are going to test whether our respective sprinkler services will be allowed to  also generate the XML and send similar response or accept the XML as the input furler create or update  requests.  OK, so we are going to test all those things and then understand as part of that.  If you see here, the steps are very simple, OK?  As usual, we are going to create.  Good brunch for the Arab Spring, but content negotiation and in addition to that, first, what we  are going to do is we are going to test our get all users method with accept heteros applications,  assemble and in the same way for our creatives user.  Also, we are going to send the content applications to assemble and then tested.  So if we test one, that should be more than enough because it is going to anyway fail.  So then there will be one dependency in Springboot, which we can use the external dependency from  Jackson.  So which is nothing but Jaxson data format XML.  So we will go and then add this in our palm, that XML and then restart our Tomcat.  So once we restart and then we'll go back and then again start testing Alvira, that allows us and then  create user methods.  OK, when we are doing the data use this method, we are going to provide the accepted applications  like XML and then tested in the same way.  Whenever we use that method, we are going to send the content type applications less XML and then created  the body.  Also, we are going to send the XML body and then post it and then will verify that the user got created  or not.  OK, so let's go ahead and then implement this now.  So let me copy our.  Blanch name and go to our lady flight, so 11 01 is the current branch we are using.  So we are going to create a new branch from that which is nothing but LAVANDERO to Springboot.  Content negotiation, right.  OK, so I will this should be in the starting state, no.  OK, so I will go back to our postman.  Why?  Because the next step is to get us with Accept Araz application slash exam.  Right.  So let me close all these things, OK?  What we're going to test it with our.  Get√∫lio says we are going to create a new folder here because we are going to change everything to.  Right, so which means our we need a Springboot postman's request, say we're here for our future purpose,  right.  So why?  Because we are going to send accept her daughter's application that exam applications less similar our  for our client request.  We are going to send it as the applications letter example for our country, Antipater.  So we will see you for the content negotiation.  Well, OK.  Association.  OK, create.  Let me make this simple right and request, and I will say that all users OK and Sue.  All these are a little uneasy, but that's fine, OK?  Get all users from opening continuously for us, right?  So let me send close to users and then see.  All right.  So first, let me send it and see the response.  OK, good.  So that pubis, whatever we have created so far, we didn't touch that user controller too much.  So we are getting the responses as expected.  OK, so now what we will do is like our header, right?  So first we need to add our accepted header application slash XML.  So I will say that heteros accept and the value is application slash XML, save it and then send it.  OK, so for 06 not acceptable.  So that's what is their response we are getting.  Right.  So let me go back and then add our dependency.  No problem.  Got XML.  So for disrespectable content negotiation section it is only one change for us from the code perspective  that is also another problem that XML.  Right.  So let me go here and make it bigger.  Will add as the last dependency here.  OK.  So let me.  OK, yeah, and let me save this, OK?  One city saved.  Let's stop this.  JVM.  And start the Davian back.  As we have that changes like new jobs will be added, so those changes to reflect, we need to restart  our embedded Tomcat.  OK, so it started OK, so let's go back to our postman now and then send it.  OK, so we can see our response here back.  Right, so we got the list of users, the item one is user I.D., right item to user data, and then  item three is user 83.  So we have got everything we're XML.  Right.  So let me also change this name as.  Content.  Negotiation and we are getting that example right, so civil servant, all right.  OK, good.  So the next one is we need to create light.  So let me copy one data here.  Right.  So one item.  OK, so this is bigger.  Will copy the third item.  Right.  Which is this one.  OK, so let's go ahead and then create a new request, let me minimize these things.  OK, so I'll see.  What happened here?  Yeah, I'd request and I would say create Mozer content negotiation, right.  You're testing in content negotiation.  This is killing us, OK?  So in great user fustiness post.  And you all is going to be localhost users right from our base, so to steer clear, so the next thing  is Broady.  So from body perspective, we'll see the and then copy the body here.  We didn't get this or I copied it and then prepared it here manually.  So we really don't need use the radio remolded because it is going to alter net and the username we  needed.  So I'll say it as user one, one, two, two.  And the first name is user YAF name and last name is user name.  And I can say this says you have name every name at the register, simplify dot com admin and an SSN  one zero three is going to fail because the SSN is the only constraint we have defined in our entity.  So and one zero three is already there.  OK, is this in double one, double two.  I'll be OK and address.  I can give us California whatever it is.  OK.  Right.  So I can leave it as is and then let me copy this so and then go back to our postman.  Right.  So let me copy it here and once you and know what we are sending, the thing is XML application slash  XML flight and from content type perspective it auto selected.  Right.  Whenever I said here xml application slash XML.  So let me save it and then send it and see what happens.  OK.  OK, so one created.  We got the success response.  We'll also see in the headers the location header.  You can see it here, road users and then slash one is missing.  OK, so this is because of this is one more bug which I want to fix it in this respect to branch.  So that is because what happened is.  During the process of our implementation, incremental implementation, if you remember that we are  doing the hopeless implementation, so the idea, right long idea is changed to use aready because in  the hato is one of the libraries we have seen that we have a conflict, that this idea and then whatever  we define and in the research library where we have seen the idea, we are having the issues OK, and  it is not happy with that.  So we changed this name to user lady because of that.  So because of this in our country.  Letellier Right.  So I'll go to our comptrollers and then I'll go to our user controller.  OK, so we changed the user idea in our service layer as required, but in our controller, layer it  for the builder.  Right.  So for the Head Start set, location builder part will build and expand.  It is like good idea only.  OK, so that's the reason it is feeling OK and it's not giving the right value.  Good user data should be there here.  So let's put this OK and then save it.  OK, so now when we started Maddieson user might have gone.  OK, so let me send it back again.  OK, see now we have fixed our bug which we have seen also.  OK, so user slash one.  It looks good.  OK, and it created let's go back to the users and then send it and then see that the first user came.  Yes we got it.  OK, I did one and then used one to two and that whatever we have given SSN one one two two.  We have got it.  OK.  So if you want for our convenience we can create one more user.  OK, so I'll see two zero one and SSN also is the only constraint we have.  The issue right now is like not issue.  We define it as a unique constraint.  Rightside also define this all says yes to zero one.  So and then let me send it, OK.  So it has created and we got to use it as two and two zero one created.  OK, so let me search it now.  OK, using the all users use that one is there and then we also get the user to zero one.  So this confirms that our respect to the services are also accepting the XML based or instead of dison  now that using the content both in and then out with XML.  So we have seen everything in doing so related to reiterate what we have done.  So from the users perspective, we have to accept Hydra's applications, XML and then we have tested  it before adding the respect to.  Library, the library name is Jackson Data Format XML.  So before this, what we have seen is it is not working and we have got some for 06 not accepted some  error.  OK, so now what we have done is like after adding that, so we have got the proper response.  So then we went back and then created the create user we have created XML responded by copying here  and as we don't need the user ID, so we removed it because it autogen IT and SSN.  It is a unique constraint.  So we ensure that whatever we have the data in our system properly, the data and your decision is with  a different name.  And then we created the content and then then put that idea in our postman request and then added the  data.  And then Senator, the content applications XML, which are populated here with headers content, is  equal to applications less XML and then we have sent it and the user got created.  So then we have seen the status quo to zero one created.  But in that area we have seen the location header with all the.  Heidi, so which we went back to our user controller and then fixed it, which word this Bob got created  during the Hatteras implementation.  So we have fixed it now.  So this completes our content negotiation section.  So in next section, we'll come up with a different topic.    .  Thank you.    
